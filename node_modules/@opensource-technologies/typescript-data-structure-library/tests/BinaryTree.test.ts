import { BinaryTree } from '../src/BinaryTree'; // Import the BinaryTree class

describe('BinaryTree', () => {
  let tree: BinaryTree<number>;

  beforeEach(() => {
    tree = new BinaryTree<number>(); // Create a new instance before each test
  });

  it('should insert nodes into the binary tree', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    expect(tree.search(10)).toBe(true); // Check if nodes are inserted
    expect(tree.search(5)).toBe(true);
    expect(tree.search(15)).toBe(true);
  });

  it('should search for a value in the binary tree', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    expect(tree.search(5)).toBe(true); // Search for existing values
    expect(tree.search(15)).toBe(true);
    expect(tree.search(20)).toBe(false); // Search for a non-existent value
  });

  it('should delete a node from the binary tree', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    tree.insert(7);
    tree.delete(5);
    expect(tree.search(5)).toBe(false); // Node should be deleted
    expect(tree.search(7)).toBe(true); // Other nodes should remain
  });

  it('should perform in-order traversal correctly', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    tree.insert(7);
    const inOrder = tree.inOrderTraversal();
    expect(inOrder).toEqual([5, 7, 10, 15]); // Check in-order sequence
  });

  it('should perform pre-order traversal correctly', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    tree.insert(7);
    const preOrder = tree.preOrderTraversal();
    expect(preOrder).toEqual([10, 5, 7, 15]); // Check pre-order sequence
  });

  it('should perform post-order traversal correctly', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    tree.insert(7);
    const postOrder = tree.postOrderTraversal();
    expect(postOrder).toEqual([7, 5, 15, 10]); // Check post-order sequence
  });

  it('should find the minimum value in the binary tree', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    tree.insert(2);
    expect(tree.findMin()).toBe(2); // Check minimum value
  });

  it('should find the maximum value in the binary tree', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    tree.insert(20);
    expect(tree.findMax()).toBe(20); // Check maximum value
  });

  it('should calculate the height of the binary tree', () => {
    tree.insert(10);
    tree.insert(5);
    tree.insert(15);
    tree.insert(2);
    expect(tree.getHeight()).toBe(3); // Check height of tree
  });
});
